<div>
    <div class="searsh-bar">
        <div class="input-group">
            <input class="form-control border rounded-pill" type="search" placeholder="search" id="example-search-input" [(ngModel)]="searchText" (keypress)="filteredMsg($event.target.value)"/>
            <span><i class="ca ca-icn-active-user" (click)="fillAgentList(true)"></i></span>
        </div>
    </div>
    <div *ngFor="let conversation of filteredMsgs; let i = index;">
      <div class="user-list-container" *ngIf="conversation">
        <div class="user-list" (click)="popupMessage(conversation?.conversationId, conversation?.userName)">
            <div [ngClass]="{'bg-a': i%3==0, 'bg-b' : i%3==1, 'bg-c' : i%3==2  }" class="user-img">{{getFirstLetters(conversation?.userName)| uppercase}}</div>
            <div class="user-data">
                <div class="user-info">
                    <div class="text-truncate">{{getUserName(conversation?.userName)}}</div>
                    <h3>{{conversation?.lastMessageBody}}</h3>
                </div>
                <div class="status">
                    <div><small>{{conversation?.created | timeAgoPipe }}</small></div>
                    <div *ngIf="unreadCount(conversation?.conversationId)>0" class="chat-count"><small>{{unreadCount(conversation?.conversationId)}}</small></div>
                </div>
            </div>
        </div>
      </div>
    </div>
</div>


